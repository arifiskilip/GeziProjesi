@using Entities.Cocnrete
@model Reservation
@{
    ViewData["Title"] = "AddReservation";
    Layout = "~/Views/Shared/_MemberLayout.cshtml";
}


<div class="card">
    <div class="card-body">
        <h4 class="card-title">Rezervasyon Sayfası</h4>
        <form class="forms-sample" asp-action="AddReservation" asp-controller="Reservation" method="post">   
            <div class="form-group">
                <center><b>@ViewBag.destination.City</b> </center>
            </div>
            <div class="form-group">
                @Html.Label("Kişi Sayısı")
                <input type="number" asp-for="PersonCount" class="form-control peopleCount" value="0" />
                <span asp-validation-for="PersonCount"></span>
            </div>
            <div class="form-group">
                @Html.Label("Günlük Fiyat")
                <input type="number" class="form-control price" value="@ViewBag.destination.Price" readonly />
            </div>
            <div class="form-group">
                @Html.Label("Açıklama")
                <input type="texarea" asp-for="Description" class="form-control" />
            </div>
            <div class="form-group">
                @Html.Label("Toplam Tutar :")
                <input type="number" asp-for="TotalPrice" class="form-control total"/>

            </div>
            <div class="preview-item-content d-sm-flex flex-grow">
                <div class="flex-grow">
                    <h6 class="preview-subject">Toplam Tutar</h6>
                    <p class="text-muted mb-0 total">
                        
                    </p>
                </div>
                <div class="mr-auto text-sm-right pt-2 pt-sm-0">
                        <button type="submit" class="btn btn-primary mr-2 btn-icon-text">
                            Rezervasyon Oluştur 
                        </button>

                </div>
            </div>
        </form>
    </div>
</div>

<script src="https://code.jquery.com/jquery-3.6.1.js" integrity="sha256-3zlB5s2uwoUzrXK3BT7AX3FyvojsraNFxCc2vC/7pNI=" crossorigin="anonymous"></script>
<script>

    $(function () {

        $(".peopleCount").on("change", function () {
            var peopleCount = $(this).val();
            var price = $(".price").val();
            var total = price * peopleCount;
            $(".total").val(total);
        });

    })

</script>

